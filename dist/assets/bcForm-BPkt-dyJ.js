import{_ as Z,y as j,r as P,d,o as r,a as b,b as l,w as a,g as f,m as C,t as k,i as x,F as ee,h as te,c as U,s as y,z as le,A as oe,N as ie,n as ae,S as ne,k as se,B as re,C as ue,E as ce,G as de,H as pe,I as me}from"./index-BEG1S3TX.js";/* empty css              *//* empty css              */const be={class:"container"},ve={class:"content"},ge={key:0,style:{background:"#fff"}},fe={class:"result"},ye={key:0},Se={key:1,class:"error"},_e={key:1},Ve={key:0,class:"empty"},Oe={key:2},xe={__name:"bcForm",setup(Le){const e=j({initial:{shares:0,price:0,name:"",code:""},positionsList:[],currentPrice:0,localStorageObj:{positionsList:[]}}),v=j([]),n=j({quantity:3e3,price:1.81,currentPrice:0}),u=j({shares:0,price:0,currentPrice:0}),$=()=>{e.initial={shares:0,price:0,name:"",code:""},e.positionsList=[],e.currentPrice=0},p=P(2),A=[{text:"ä¿¡ç”¨åˆ†äº§å€¼è®¡ç®—å™¨",value:0},{text:"è‚¡ç¥¨è¡¥ä»“è®¡ç®—å™¨",value:1},{text:"DCPè®¡ç®—å™¨",value:2}];P([]);const L=P(0),S=P(30),_=()=>{if(n.quantity>0&&n.price>0){const i=n.quantity*.75;console.log("â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ "),console.log("1ã€åˆ’åˆ°æµåŠ¨æ± éœ€æ‰£é™¤25%æ‰‹ç»­è´¹ï¼Œè·å¾—ä¿¡ç”¨åˆ†ï¼š",i);const t=(i*n.price*.95).toFixed(4);console.log("2ã€æµåŠ¨æ± ä¸­ä¿¡ç”¨åˆ†æ•°é‡*å¸‚åœºä»·åæ‰“95æŠ˜åï¼Œ5%è¿›å…¥æµåŠ¨æ± ï¼š",t);const c=(t*.95).toFixed(4);console.log("3ã€å…‘æˆæˆdcpæ‰“95æŠ˜ï¼š",c);const m=c*.95;n.currentPrice=m.toFixed(4),console.log("4ã€dcpå…‘æˆåï¼Œå–ç»™æœåŠ¡å•†æ”¶å–5%æœåŠ¡è´¹ï¼ŒæœåŠ¡å•†æ‰“95æŠ˜ï¼š",m),console.log("â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ "),y(`DCPå˜ç°ä¸ºï¼š${m.toFixed(4)}`)}else y("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯")},N=d(()=>S.value===0?"é™¤æ•°ä¸èƒ½ä¸ºé›¶":(L.value/S.value).toFixed(2));localStorage.getItem("localStorageObj")&&(e.localStorageObj=JSON.parse(localStorage.getItem("localStorageObj")),e.localStorageObj.positionsList.length>0&&(e.positionsList=e.localStorageObj.positionsList),e.initial.shares=e.localStorageObj.shares,e.initial.price=e.localStorageObj.price,e.initial.name=e.localStorageObj.name,e.initial.code=e.localStorageObj.code,e.currentPrice=e.localStorageObj.currentPrice);const q=d(()=>u.shares>0&&u.price>0&&e.currentPrice>0&&e.initial.code!=""&&e.initial.name!=""),h=d(()=>e.positionsList.reduce((i,t)=>i+t.shares,e.initial.shares)),E=d(()=>{const i=e.initial.shares*e.initial.price,t=e.positionsList.reduce((c,m)=>c+m.shares*m.price,0);return i+t}),V=d(()=>h.value>0?E.value/h.value:0),J=d(()=>e.currentPrice<=0||V.value<=e.currentPrice?"0.00":((V.value-e.currentPrice)/e.currentPrice*100).toFixed(2)),z=d(()=>e.currentPrice===0?"è¯·è¾“å…¥å½“å‰ä»·æ ¼æŸ¥çœ‹ç»“æœ":e.currentPrice>V.value?"ğŸ’° å½“å‰å¤„äºç›ˆåˆ©çŠ¶æ€":e.currentPrice<V.value?"ğŸ“‰ å½“å‰å¤„äºäºæŸçŠ¶æ€":"âš–ï¸ å½“å‰å¤„äºä¿æœ¬çŠ¶æ€"),w=d(()=>({color:e.currentPrice<V.value?"#07c160":"#ee0a24"})),G=d(()=>({fontWeight:"bold",color:w.value.color})),T=()=>{if(!q.value){y("è¯·è¾“å…¥å¿…å¡«é¡¹æ•°æ®");return}e.positionsList.push({shares:Number(u.shares),price:Number(u.price),name:e.initial.name,code:e.initial.code}),u.shares=0,u.price=0,y("æ·»åŠ æˆåŠŸ")},H=()=>{if(e.positionsList.length==0){y("è¯·å…ˆæ·»åŠ è¡¥ä»“è®°å½•");return}if(console.log("state.localStorageObj11111:",e.localStorageObj,"positionsList:",e.positionsList),e.localStorageObj.positionsList.length>0&&e.localStorageObj.positionsList[0].name==e.initial.name?(e.localStorageObj.positionsList=[...e.localStorageObj.positionsList,...e.positionsList],console.log("state.localStorageObj.positionsList",e.localStorageObj.positionsList)):e.localStorageObj.positionsList=e.positionsList,e.localStorageObj.shares=e.initial.shares,e.localStorageObj.price=e.initial.price,e.localStorageObj.name=e.initial.name,e.localStorageObj.code=e.initial.code,e.localStorageObj.currentPrice=e.currentPrice,e.localStorageObj.positionsList=[...new Map(e.localStorageObj.positionsList.map(i=>[JSON.stringify(i),i])).values()],localStorage.setItem("localStorageObj",JSON.stringify(e.localStorageObj)),v.length>0)for(let i=0;i<v.length;i++)v[i].name===e.initial.name?v[i]=e.localStorageObj:v.push(e.localStorageObj);else v.push(e.localStorageObj);localStorage.setItem("localStorageCcList",JSON.stringify(v))},W=i=>{e.positionsList.splice(i,1),y("åˆ é™¤æˆåŠŸ"),e.localStorageObj.positionsList=e.positionsList},K=()=>{var i="m208887";let t=c=>{c.preventDefault(),c.clipboardData.setData("text/plain",i),y("å¾®ä¿¡å·å¤åˆ¶æˆåŠŸ,èµ¶ç´§å»æ·»åŠ å§"),document.removeEventListener("copy",t)};document.addEventListener("copy",t),document.execCommand("Copy")},Q=()=>{history.back()};return(i,t)=>{const c=le,m=oe,R=ie,s=ae,B=ne,g=se,F=re,O=ue,I=ce,X=de,D=me,Y=pe;return r(),b("div",be,[l(R,{title:"è®¡ç®—å™¨",fixed:"","left-arrow":"","left-text":"è¿”å›",onClickLeft:Q,border:!0},{right:a(()=>[l(m,null,{default:a(()=>[l(c,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),options:A,onChange:t[1]||(t[1]=o=>p.value=o)},null,8,["modelValue"])]),_:1})]),_:1}),f("div",ve,[p.value===0?(r(),b("div",ge,[l(g,{inset:"",class:"section"},{default:a(()=>[l(s,{modelValue:L.value,"onUpdate:modelValue":t[2]||(t[2]=o=>L.value=o),modelModifiers:{number:!0},label:"ä¼šå‘˜å¡é¢é¢",type:"number",placeholder:"è¯·è¾“å…¥ä¼šå‘˜å¡é¢é¢",clearable:""},null,8,["modelValue"]),t[14]||(t[14]=C(" äº§å‡ºå‘¨æœŸ(å¤©)ï¼š")),l(B,{modelValue:S.value,"onUpdate:modelValue":t[3]||(t[3]=o=>S.value=o)},null,8,["modelValue"])]),_:1}),f("div",fe,[S.value!==0?(r(),b("h3",ye," æ¯å¤©äº§å‡ºï¼š"+k(L.value)+" Ã· "+k(S.value)+" = "+k(N.value),1)):(r(),b("h3",Se,k(N.value),1))])])):x("",!0),p.value===1?(r(),b("div",_e,[l(g,{inset:"",class:"section"},{default:a(()=>[t[15]||(t[15]=f("div",{class:"section-title"},"æŒä»“ä¿¡æ¯",-1)),l(s,{modelValue:e.initial.name,"onUpdate:modelValue":t[4]||(t[4]=o=>e.initial.name=o),modelModifiers:{number:!0},required:"",label:"æŒä»“åç§°",type:"text",placeholder:"è¯·è¾“å…¥åç§°",clearable:""},null,8,["modelValue"]),l(s,{modelValue:e.initial.code,"onUpdate:modelValue":t[5]||(t[5]=o=>e.initial.code=o),required:"",label:"æŒä»“ä»£ç ",type:"text",placeholder:"è¯·è¾“å…¥ä»£ç ",clearable:""},null,8,["modelValue"])]),_:1}),l(g,{inset:"",class:"section"},{default:a(()=>[t[16]||(t[16]=f("div",{class:"section-title"},"åˆå§‹æŒä»“",-1)),l(s,{modelValue:e.initial.shares,"onUpdate:modelValue":t[6]||(t[6]=o=>e.initial.shares=o),modelModifiers:{number:!0},label:"æŒä»“æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:""},null,8,["modelValue"]),l(s,{modelValue:e.initial.price,"onUpdate:modelValue":t[7]||(t[7]=o=>e.initial.price=o),modelModifiers:{number:!0},label:"æˆæœ¬ä»·",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"])]),_:1}),l(g,{inset:"",class:"section"},{default:a(()=>[t[18]||(t[18]=f("div",{class:"section-title"},"è¡¥ä»“æ“ä½œ",-1)),l(s,{modelValue:u.shares,"onUpdate:modelValue":t[8]||(t[8]=o=>u.shares=o),modelModifiers:{number:!0},required:"",label:"è¡¥ä»“æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:""},null,8,["modelValue"]),l(s,{modelValue:u.price,"onUpdate:modelValue":t[9]||(t[9]=o=>u.price=o),modelModifiers:{number:!0},required:"",label:"è¡¥ä»“ä»·æ ¼",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"]),l(F,{block:"",type:"primary",onClick:T,disabled:!q.value,class:"add-btn"},{default:a(()=>t[17]||(t[17]=[C(" + æ·»åŠ  ")])),_:1},8,["disabled"])]),_:1}),l(g,{inset:"",class:"section"},{default:a(()=>[t[19]||(t[19]=f("div",{class:"section-title"},"æ·»åŠ è®°å½•",-1)),e.positionsList.length===0?(r(),b("div",Ve,"æš‚æ— è¡¥ä»“è®°å½•")):(r(!0),b(ee,{key:1},te(e.positionsList,(o,M)=>(r(),U(O,{key:M,title:`ã€${M+1}ã€‘ - ${o.shares}è‚¡ @ ${o.price}å…ƒ`,value:`æ€»æŠ•å…¥ï¼š${(o.shares*o.price).toFixed(2)}å…ƒ`},{"right-icon":a(()=>[l(F,{size:"small",icon:"delete",onClick:je=>W(M),style:{"margin-left":"8px"}},null,8,["onClick"])]),_:2},1032,["title","value"]))),128))]),_:1}),l(g,{inset:"",class:"section result-section"},{default:a(()=>[l(s,{modelValue:e.currentPrice,"onUpdate:modelValue":t[10]||(t[10]=o=>e.currentPrice=o),modelModifiers:{number:!0},required:"",label:"å½“å‰ä»·æ ¼",type:"number",placeholder:"è¯·è¾“å…¥å½“å‰ä»·",suffix:"å…ƒ",clearable:""},null,8,["modelValue"]),l(I,null,{default:a(()=>t[20]||(t[20]=[C("è®¡ç®—ç»“æœ")])),_:1}),l(O,{title:"æ€»æŒä»“é‡",value:`${h.value.toFixed(2)} è‚¡`},null,8,["value"]),l(O,{title:"å¹³å‡æˆæœ¬ä»·","title-style":"red",value:`${V.value.toFixed(2)} å…ƒ`},null,8,["value"]),l(O,{title:"éœ€ä¸Šæ¶¨",value:`${J.value}%`,"value-class":w.value},null,8,["value","value-class"]),l(I),l(O,{title:z.value,"title-style":G.value,style:{"margin-bottom":"40px"}},null,8,["title","title-style"])]),_:1})])):x("",!0),p.value===2?(r(),b("div",Oe,[l(g,{inset:"",class:"section"},{default:a(()=>[t[21]||(t[21]=f("div",{class:"section-title"},"DCPè®¡ç®—",-1)),l(s,{modelValue:n.quantity,"onUpdate:modelValue":t[11]||(t[11]=o=>n.quantity=o),modelModifiers:{number:!0},label:"ä¿¡ç”¨åˆ†æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:"",onInput:_},null,8,["modelValue"]),l(s,{name:"stepper",label:"å¸‚åœºä»·"},{input:a(()=>[l(B,{modelValue:n.price,"onUpdate:modelValue":t[12]||(t[12]=o=>n.price=o),step:"0.01","decimal-length":2,label:"å¸‚åœºä»·",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"])]),_:1}),l(s,{modelValue:n.currentPrice,"onUpdate:modelValue":t[13]||(t[13]=o=>n.currentPrice=o),modelModifiers:{number:!0},label:"æ€»ä»·",type:"number",placeholder:"è¯·è¾“å…¥å½“å‰ä»·",suffix:"å…ƒ",clearable:"",onChange:_,onInput:_,onPlus:_,onMinus:_},null,8,["modelValue"])]),_:1}),l(F,{block:"",type:"primary",onClick:_,class:"add-btn"},{default:a(()=>t[22]||(t[22]=[C("è®¡ç®—")])),_:1})])):x("",!0)]),l(Y,{class:"action-bar"},{default:a(()=>[l(X,{icon:"chat-o",text:"å®¢æœ",onClick:K}),p.value==1?(r(),U(D,{key:0,onClick:$,color:"#1989faad",type:"warning",text:"é‡ç½®"})):x("",!0),p.value==1?(r(),U(D,{key:1,onClick:H,color:"#1989fa",type:"danger",text:"ä¿å­˜"})):x("",!0)]),_:1})])}}},he=Z(xe,[["__scopeId","data-v-5a269443"]]);export{he as default};
