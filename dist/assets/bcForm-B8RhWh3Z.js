import{_ as Y,y as L,r as P,d as c,o as r,a as m,b as l,w as a,g as f,m as k,t as C,i as j,F as Z,h as ee,c as U,s as V,z as te,A as le,N as oe,n as ie,S as ae,k as se,B as ne,C as re,E as ue,G as ce,H as de,I as pe}from"./index-Bc8PoC_0.js";/* empty css              *//* empty css              */const me={class:"container"},be={class:"content"},ve={key:0,style:{background:"#fff"}},fe={class:"result"},ge={key:0},Se={key:1,class:"error"},ye={key:1},_e={key:0,class:"empty"},Ve={key:2},Oe={__name:"bcForm",setup(je){const e=L({initial:{shares:0,price:0,name:"",code:""},positionsList:[],currentPrice:0,localStorageObj:{positionsList:[]}}),b=L([]),s=L({quantity:3e3,price:1.81,currentPrice:0}),u=L({shares:0,price:0,currentPrice:0}),D=()=>{e.initial={shares:0,price:0,name:"",code:""},e.positionsList=[],e.currentPrice=0},d=P(2),A=[{text:"ä¿¡ç”¨åˆ†äº§å€¼è®¡ç®—å™¨",value:0},{text:"è‚¡ç¥¨è¡¥ä»“è®¡ç®—å™¨",value:1},{text:"DCPè®¡ç®—å™¨",value:2}];P([]);const x=P(0),g=P(30),S=()=>{if(s.quantity>0&&s.price>0){const i=s.quantity*.75;console.log("â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ "),console.log("1ã€åˆ’åˆ°æµåŠ¨æ± éœ€æ‰£é™¤25%æ‰‹ç»­è´¹ï¼Œè·å¾—ä¿¡ç”¨åˆ†ï¼š",i);const t=(i*s.price*.95).toFixed(4);console.log("2ã€æµåŠ¨æ± ä¸­ä¿¡ç”¨åˆ†æ•°é‡*å¸‚åœºä»·åæ‰“95æŠ˜åï¼Œ5%è¿›å…¥æµåŠ¨æ± ï¼š",t);const _=(t*.95).toFixed(4);console.log("3ã€å…‘æˆæˆdcpæ‰“95æŠ˜ï¼š",_);const p=_*.95;s.currentPrice=p.toFixed(4),console.log("4ã€dcpå…‘æˆåï¼Œå–ç»™æœåŠ¡å•†æ”¶å–5%æœåŠ¡è´¹ï¼ŒæœåŠ¡å•†æ‰“95æŠ˜ï¼š",p),console.log("â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ "),V(`DCPå˜ç°ä¸ºï¼š${p.toFixed(4)}`)}else V("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯")},N=c(()=>g.value===0?"é™¤æ•°ä¸èƒ½ä¸ºé›¶":(x.value/g.value).toFixed(2));localStorage.getItem("localStorageObj")&&(e.localStorageObj=JSON.parse(localStorage.getItem("localStorageObj")),e.localStorageObj.positionsList.length>0&&(e.positionsList=e.localStorageObj.positionsList),e.initial.shares=e.localStorageObj.shares,e.initial.price=e.localStorageObj.price,e.initial.name=e.localStorageObj.name,e.initial.code=e.localStorageObj.code,e.currentPrice=e.localStorageObj.currentPrice);const q=c(()=>u.shares>0&&u.price>0&&e.currentPrice>0&&e.initial.code!=""&&e.initial.name!=""),h=c(()=>e.positionsList.reduce((i,t)=>i+t.shares,e.initial.shares)),J=c(()=>{const i=e.initial.shares*e.initial.price,t=e.positionsList.reduce((_,p)=>_+p.shares*p.price,0);return i+t}),y=c(()=>h.value>0?J.value/h.value:0),z=c(()=>e.currentPrice<=0||y.value<=e.currentPrice?"0.00":((y.value-e.currentPrice)/e.currentPrice*100).toFixed(2)),E=c(()=>e.currentPrice===0?"è¯·è¾“å…¥å½“å‰ä»·æ ¼æŸ¥çœ‹ç»“æœ":e.currentPrice>y.value?"ğŸ’° å½“å‰å¤„äºç›ˆåˆ©çŠ¶æ€":e.currentPrice<y.value?"ğŸ“‰ å½“å‰å¤„äºäºæŸçŠ¶æ€":"âš–ï¸ å½“å‰å¤„äºä¿æœ¬çŠ¶æ€"),w=c(()=>({color:e.currentPrice<y.value?"#07c160":"#ee0a24"})),G=c(()=>({fontWeight:"bold",color:w.value.color})),T=()=>{if(!q.value){V("è¯·è¾“å…¥å¿…å¡«é¡¹æ•°æ®");return}e.positionsList.push({shares:Number(u.shares),price:Number(u.price),name:e.initial.name,code:e.initial.code}),u.shares=0,u.price=0,V("æ·»åŠ æˆåŠŸ")},H=()=>{if(e.positionsList.length==0){V("è¯·å…ˆæ·»åŠ è¡¥ä»“è®°å½•");return}if(console.log("state.localStorageObj11111:",e.localStorageObj,"positionsList:",e.positionsList),e.localStorageObj.positionsList.length>0&&e.localStorageObj.positionsList[0].name==e.initial.name?(e.localStorageObj.positionsList=[...e.localStorageObj.positionsList,...e.positionsList],console.log("state.localStorageObj.positionsList",e.localStorageObj.positionsList)):e.localStorageObj.positionsList=e.positionsList,e.localStorageObj.shares=e.initial.shares,e.localStorageObj.price=e.initial.price,e.localStorageObj.name=e.initial.name,e.localStorageObj.code=e.initial.code,e.localStorageObj.currentPrice=e.currentPrice,e.localStorageObj.positionsList=[...new Map(e.localStorageObj.positionsList.map(i=>[JSON.stringify(i),i])).values()],localStorage.setItem("localStorageObj",JSON.stringify(e.localStorageObj)),b.length>0)for(let i=0;i<b.length;i++)b[i].name===e.initial.name?b[i]=e.localStorageObj:b.push(e.localStorageObj);else b.push(e.localStorageObj);localStorage.setItem("localStorageCcList",JSON.stringify(b))},W=i=>{e.positionsList.splice(i,1),V("åˆ é™¤æˆåŠŸ"),e.localStorageObj.positionsList=e.positionsList},K=()=>{history.back()};return(i,t)=>{const _=te,p=le,Q=oe,n=ie,B=ae,v=se,F=ne,O=re,I=ue,R=ce,$=pe,X=de;return r(),m("div",me,[l(Q,{title:"è®¡ç®—å™¨",fixed:"","left-arrow":"","left-text":"è¿”å›",onClickLeft:K,border:!0},{right:a(()=>[l(p,null,{default:a(()=>[l(_,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),options:A,onChange:t[1]||(t[1]=o=>d.value=o)},null,8,["modelValue"])]),_:1})]),_:1}),f("div",be,[d.value===0?(r(),m("div",ve,[l(v,{inset:"",class:"section"},{default:a(()=>[l(n,{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=o=>x.value=o),modelModifiers:{number:!0},label:"ä¼šå‘˜å¡é¢é¢",type:"number",placeholder:"è¯·è¾“å…¥ä¼šå‘˜å¡é¢é¢",clearable:""},null,8,["modelValue"]),t[14]||(t[14]=k(" äº§å‡ºå‘¨æœŸ(å¤©)ï¼š")),l(B,{modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=o=>g.value=o)},null,8,["modelValue"])]),_:1}),f("div",fe,[g.value!==0?(r(),m("h3",ge," æ¯å¤©äº§å‡ºï¼š"+C(x.value)+" Ã· "+C(g.value)+" = "+C(N.value),1)):(r(),m("h3",Se,C(N.value),1))])])):j("",!0),d.value===1?(r(),m("div",ye,[l(v,{inset:"",class:"section"},{default:a(()=>[t[15]||(t[15]=f("div",{class:"section-title"},"æŒä»“ä¿¡æ¯",-1)),l(n,{modelValue:e.initial.name,"onUpdate:modelValue":t[4]||(t[4]=o=>e.initial.name=o),modelModifiers:{number:!0},required:"",label:"æŒä»“åç§°",type:"text",placeholder:"è¯·è¾“å…¥åç§°",clearable:""},null,8,["modelValue"]),l(n,{modelValue:e.initial.code,"onUpdate:modelValue":t[5]||(t[5]=o=>e.initial.code=o),required:"",label:"æŒä»“ä»£ç ",type:"text",placeholder:"è¯·è¾“å…¥ä»£ç ",clearable:""},null,8,["modelValue"])]),_:1}),l(v,{inset:"",class:"section"},{default:a(()=>[t[16]||(t[16]=f("div",{class:"section-title"},"åˆå§‹æŒä»“",-1)),l(n,{modelValue:e.initial.shares,"onUpdate:modelValue":t[6]||(t[6]=o=>e.initial.shares=o),modelModifiers:{number:!0},label:"æŒä»“æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:""},null,8,["modelValue"]),l(n,{modelValue:e.initial.price,"onUpdate:modelValue":t[7]||(t[7]=o=>e.initial.price=o),modelModifiers:{number:!0},label:"æˆæœ¬ä»·",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"])]),_:1}),l(v,{inset:"",class:"section"},{default:a(()=>[t[18]||(t[18]=f("div",{class:"section-title"},"è¡¥ä»“æ“ä½œ",-1)),l(n,{modelValue:u.shares,"onUpdate:modelValue":t[8]||(t[8]=o=>u.shares=o),modelModifiers:{number:!0},required:"",label:"è¡¥ä»“æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:""},null,8,["modelValue"]),l(n,{modelValue:u.price,"onUpdate:modelValue":t[9]||(t[9]=o=>u.price=o),modelModifiers:{number:!0},required:"",label:"è¡¥ä»“ä»·æ ¼",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"]),l(F,{block:"",type:"primary",onClick:T,disabled:!q.value,class:"add-btn"},{default:a(()=>t[17]||(t[17]=[k(" + æ·»åŠ  ")])),_:1},8,["disabled"])]),_:1}),l(v,{inset:"",class:"section"},{default:a(()=>[t[19]||(t[19]=f("div",{class:"section-title"},"æ·»åŠ è®°å½•",-1)),e.positionsList.length===0?(r(),m("div",_e,"æš‚æ— è¡¥ä»“è®°å½•")):(r(!0),m(Z,{key:1},ee(e.positionsList,(o,M)=>(r(),U(O,{key:M,title:`ã€${M+1}ã€‘ - ${o.shares}è‚¡ @ ${o.price}å…ƒ`,value:`æ€»æŠ•å…¥ï¼š${(o.shares*o.price).toFixed(2)}å…ƒ`},{"right-icon":a(()=>[l(F,{size:"small",icon:"delete",onClick:xe=>W(M),style:{"margin-left":"8px"}},null,8,["onClick"])]),_:2},1032,["title","value"]))),128))]),_:1}),l(v,{inset:"",class:"section result-section"},{default:a(()=>[l(n,{modelValue:e.currentPrice,"onUpdate:modelValue":t[10]||(t[10]=o=>e.currentPrice=o),modelModifiers:{number:!0},required:"",label:"å½“å‰ä»·æ ¼",type:"number",placeholder:"è¯·è¾“å…¥å½“å‰ä»·",suffix:"å…ƒ",clearable:""},null,8,["modelValue"]),l(I,null,{default:a(()=>t[20]||(t[20]=[k("è®¡ç®—ç»“æœ")])),_:1}),l(O,{title:"æ€»æŒä»“é‡",value:`${h.value.toFixed(2)} è‚¡`},null,8,["value"]),l(O,{title:"å¹³å‡æˆæœ¬ä»·","title-style":"red",value:`${y.value.toFixed(2)} å…ƒ`},null,8,["value"]),l(O,{title:"éœ€ä¸Šæ¶¨",value:`${z.value}%`,"value-class":w.value},null,8,["value","value-class"]),l(I),l(O,{title:E.value,"title-style":G.value,style:{"margin-bottom":"40px"}},null,8,["title","title-style"])]),_:1})])):j("",!0),d.value===2?(r(),m("div",Ve,[l(v,{inset:"",class:"section"},{default:a(()=>[t[21]||(t[21]=f("div",{class:"section-title"},"DCPè®¡ç®—",-1)),l(n,{modelValue:s.quantity,"onUpdate:modelValue":t[11]||(t[11]=o=>s.quantity=o),modelModifiers:{number:!0},label:"ä¿¡ç”¨åˆ†æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:"",onInput:S},null,8,["modelValue"]),l(n,{name:"stepper",label:"å¸‚åœºä»·"},{input:a(()=>[l(B,{modelValue:s.price,"onUpdate:modelValue":t[12]||(t[12]=o=>s.price=o),step:"0.01","decimal-length":2,label:"å¸‚åœºä»·",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{modelValue:s.currentPrice,"onUpdate:modelValue":t[13]||(t[13]=o=>s.currentPrice=o),modelModifiers:{number:!0},label:"æ€»ä»·",type:"number",placeholder:"è¯·è¾“å…¥å½“å‰ä»·",suffix:"å…ƒ",clearable:"",onChange:S,onInput:S,onPlus:S,onMinus:S},null,8,["modelValue"])]),_:1}),l(F,{block:"",type:"primary",onClick:S,class:"add-btn"},{default:a(()=>t[22]||(t[22]=[k("è®¡ç®—")])),_:1})])):j("",!0)]),l(X,{class:"action-bar"},{default:a(()=>[l(R,{icon:"chat-o",text:"å®¢æœ"}),d.value==1?(r(),U($,{key:0,onClick:D,color:"#1989faad",type:"warning",text:"é‡ç½®"})):j("",!0),d.value==1?(r(),U($,{key:1,onClick:H,color:"#1989fa",type:"danger",text:"ä¿å­˜"})):j("",!0)]),_:1})])}}},Ce=Y(Oe,[["__scopeId","data-v-3f4ccd78"]]);export{Ce as default};
