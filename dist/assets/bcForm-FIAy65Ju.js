import{y as j,r as P,d as u,o as c,a as p,b as l,w as a,g as v,m as L,t as C,i as M,F as R,h as X,c as Y,s as V,z as Z,A as ee,N as te,n as le,S as oe,k as ie,B as ae,C as se,E as ne,G as re,H as ue,I as ce}from"./index-Ca3J3ala.js";/* empty css              *//* empty css              */import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";const pe={class:"container"},me={class:"content"},be={key:0},ve={class:"result"},ge={key:0},fe={key:1,class:"error"},Se={key:1},_e={key:0,class:"empty"},ye={key:2},Ve={__name:"bcForm",setup(Oe){const e=j({initial:{shares:0,price:0,name:"",code:""},positionsList:[],currentPrice:0,localStorageObj:{positionsList:[]}}),m=j([]),s=j({quantity:3e3,price:1.81,currentPrice:0}),r=j({shares:0,price:0,currentPrice:0}),D=()=>{e.initial={shares:0,price:0,name:"",code:""},e.positionsList=[],e.currentPrice=0},g=P(2),A=[{text:"è®¡ç®—å™¨0",value:0},{text:"è®¡ç®—å™¨1",value:1},{text:"è®¡ç®—å™¨2",value:2},{text:"è®¡ç®—å™¨3",value:3}];P([]);const x=P(0),f=P(1),S=()=>{if(s.quantity>0&&s.price>0){const i=s.quantity*.75;console.log("â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ â†“ "),console.log("1ã€åˆ’åˆ°æµåŠ¨æ± éœ€æ‰£é™¤25%æ‰‹ç»­è´¹ï¼Œè·å¾—ä¿¡ç”¨åˆ†ï¼š",i);const t=(i*s.price*.95).toFixed(4);console.log("2ã€æµåŠ¨æ± ä¸­ä¿¡ç”¨åˆ†æ•°é‡*å¸‚åœºä»·åæ‰“95æŠ˜åï¼Œ5%è¿›å…¥æµåŠ¨æ± ï¼š",t);const y=(t*.95).toFixed(4);console.log("3ã€å…‘æˆæˆdcpæ‰“95æŠ˜ï¼š",y);const d=y*.95;s.currentPrice=d.toFixed(4),console.log("4ã€dcpå…‘æˆåï¼Œå–ç»™æœåŠ¡å•†æ”¶å–5%æœåŠ¡è´¹ï¼ŒæœåŠ¡å•†æ‰“95æŠ˜ï¼š",d),console.log("â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ â†‘ "),V(`DCPå˜ç°ä¸ºï¼š${d.toFixed(4)}`)}else V("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯")},U=u(()=>f.value===0?"é™¤æ•°ä¸èƒ½ä¸ºé›¶":(x.value/f.value).toFixed(2));localStorage.getItem("localStorageObj")&&(e.localStorageObj=JSON.parse(localStorage.getItem("localStorageObj")),e.localStorageObj.positionsList.length>0&&(e.positionsList=e.localStorageObj.positionsList),e.initial.shares=e.localStorageObj.shares,e.initial.price=e.localStorageObj.price,e.initial.name=e.localStorageObj.name,e.initial.code=e.localStorageObj.code,e.currentPrice=e.localStorageObj.currentPrice);const N=u(()=>r.shares>0&&r.price>0&&e.currentPrice>0&&e.initial.code!=""&&e.initial.name!=""),k=u(()=>e.positionsList.reduce((i,t)=>i+t.shares,e.initial.shares)),J=u(()=>{const i=e.initial.shares*e.initial.price,t=e.positionsList.reduce((y,d)=>y+d.shares*d.price,0);return i+t}),_=u(()=>k.value>0?J.value/k.value:0),z=u(()=>e.currentPrice<=0||_.value<=e.currentPrice?"0.00":((_.value-e.currentPrice)/e.currentPrice*100).toFixed(2)),E=u(()=>e.currentPrice===0?"è¯·è¾“å…¥å½“å‰ä»·æ ¼æŸ¥çœ‹ç»“æœ":e.currentPrice>_.value?"ğŸ’° å½“å‰å¤„äºç›ˆåˆ©çŠ¶æ€":e.currentPrice<_.value?"ğŸ“‰ å½“å‰å¤„äºäºæŸçŠ¶æ€":"âš–ï¸ å½“å‰å¤„äºä¿æœ¬çŠ¶æ€"),q=u(()=>({color:e.currentPrice<_.value?"#07c160":"#ee0a24"})),G=u(()=>({fontWeight:"bold",color:q.value.color})),T=()=>{if(!N.value){V("è¯·è¾“å…¥å¿…å¡«é¡¹æ•°æ®");return}e.positionsList.push({shares:Number(r.shares),price:Number(r.price),name:e.initial.name,code:e.initial.code}),r.shares=0,r.price=0,V("æ·»åŠ æˆåŠŸ")},H=()=>{if(e.positionsList.length==0){V("è¯·å…ˆæ·»åŠ è¡¥ä»“è®°å½•");return}if(console.log("state.localStorageObj11111:",e.localStorageObj,"positionsList:",e.positionsList),e.localStorageObj.positionsList.length>0&&e.localStorageObj.positionsList[0].name==e.initial.name?(e.localStorageObj.positionsList=[...e.localStorageObj.positionsList,...e.positionsList],console.log("state.localStorageObj.positionsList",e.localStorageObj.positionsList)):e.localStorageObj.positionsList=e.positionsList,e.localStorageObj.shares=e.initial.shares,e.localStorageObj.price=e.initial.price,e.localStorageObj.name=e.initial.name,e.localStorageObj.code=e.initial.code,e.localStorageObj.currentPrice=e.currentPrice,e.localStorageObj.positionsList=[...new Map(e.localStorageObj.positionsList.map(i=>[JSON.stringify(i),i])).values()],localStorage.setItem("localStorageObj",JSON.stringify(e.localStorageObj)),m.length>0)for(let i=0;i<m.length;i++)m[i].name===e.initial.name?m[i]=e.localStorageObj:m.push(e.localStorageObj);else m.push(e.localStorageObj);localStorage.setItem("localStorageCcList",JSON.stringify(m))},W=i=>{e.positionsList.splice(i,1),V("åˆ é™¤æˆåŠŸ"),e.localStorageObj.positionsList=e.positionsList};return(i,t)=>{const y=Z,d=ee,K=te,n=le,B=oe,b=ie,h=ae,O=se,I=ne,w=re,$=ue,Q=ce;return c(),p("div",pe,[l(K,{title:"è®¡ç®—å™¨",fixed:""},{right:a(()=>[l(d,null,{default:a(()=>[l(y,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o),options:A,onChange:t[1]||(t[1]=o=>g.value=o)},null,8,["modelValue"])]),_:1})]),_:1}),v("div",me,[g.value===0?(c(),p("div",be,[l(b,{inset:"",class:"section"},{default:a(()=>[l(n,{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=o=>x.value=o),modelModifiers:{number:!0},label:"äº§é‡",type:"number",placeholder:"è¯·è¾“å…¥äº§é‡"},null,8,["modelValue"]),t[14]||(t[14]=L(" äº§å‡ºå¤©æ•°ï¼š")),l(B,{modelValue:f.value,"onUpdate:modelValue":t[3]||(t[3]=o=>f.value=o)},null,8,["modelValue"])]),_:1}),v("div",ve,[f.value!==0?(c(),p("h3",ge," è®¡ç®—ç»“æœï¼š"+C(x.value)+" Ã· "+C(f.value)+" = "+C(U.value),1)):(c(),p("h3",fe,C(U.value),1))])])):M("",!0),g.value===1?(c(),p("div",Se,[l(b,{inset:"",class:"section"},{default:a(()=>[t[15]||(t[15]=v("div",{class:"section-title"},"æŒä»“ä¿¡æ¯",-1)),l(n,{modelValue:e.initial.name,"onUpdate:modelValue":t[4]||(t[4]=o=>e.initial.name=o),modelModifiers:{number:!0},required:"",label:"æŒä»“åç§°",type:"text",placeholder:"è¯·è¾“å…¥åç§°",clearable:""},null,8,["modelValue"]),l(n,{modelValue:e.initial.code,"onUpdate:modelValue":t[5]||(t[5]=o=>e.initial.code=o),required:"",label:"æŒä»“ä»£ç ",type:"text",placeholder:"è¯·è¾“å…¥ä»£ç ",clearable:""},null,8,["modelValue"])]),_:1}),l(b,{inset:"",class:"section"},{default:a(()=>[t[16]||(t[16]=v("div",{class:"section-title"},"åˆå§‹æŒä»“",-1)),l(n,{modelValue:e.initial.shares,"onUpdate:modelValue":t[6]||(t[6]=o=>e.initial.shares=o),modelModifiers:{number:!0},label:"æŒä»“æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:""},null,8,["modelValue"]),l(n,{modelValue:e.initial.price,"onUpdate:modelValue":t[7]||(t[7]=o=>e.initial.price=o),modelModifiers:{number:!0},label:"æˆæœ¬ä»·",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"])]),_:1}),l(b,{inset:"",class:"section"},{default:a(()=>[t[18]||(t[18]=v("div",{class:"section-title"},"è¡¥ä»“æ“ä½œ",-1)),l(n,{modelValue:r.shares,"onUpdate:modelValue":t[8]||(t[8]=o=>r.shares=o),modelModifiers:{number:!0},required:"",label:"è¡¥ä»“æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:""},null,8,["modelValue"]),l(n,{modelValue:r.price,"onUpdate:modelValue":t[9]||(t[9]=o=>r.price=o),modelModifiers:{number:!0},required:"",label:"è¡¥ä»“ä»·æ ¼",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"]),l(h,{block:"",type:"primary",onClick:T,disabled:!N.value,class:"add-btn"},{default:a(()=>t[17]||(t[17]=[L(" + æ·»åŠ  ")])),_:1},8,["disabled"])]),_:1}),l(b,{inset:"",class:"section"},{default:a(()=>[t[19]||(t[19]=v("div",{class:"section-title"},"æ·»åŠ è®°å½•",-1)),e.positionsList.length===0?(c(),p("div",_e,"æš‚æ— è¡¥ä»“è®°å½•")):(c(!0),p(R,{key:1},X(e.positionsList,(o,F)=>(c(),Y(O,{key:F,title:`ã€${F+1}ã€‘ - ${o.shares}è‚¡ @ ${o.price}å…ƒ`,value:`æ€»æŠ•å…¥ï¼š${(o.shares*o.price).toFixed(2)}å…ƒ`},{"right-icon":a(()=>[l(h,{size:"small",icon:"delete",onClick:xe=>W(F),style:{"margin-left":"8px"}},null,8,["onClick"])]),_:2},1032,["title","value"]))),128))]),_:1}),l(b,{inset:"",class:"section result-section"},{default:a(()=>[l(n,{modelValue:e.currentPrice,"onUpdate:modelValue":t[10]||(t[10]=o=>e.currentPrice=o),modelModifiers:{number:!0},required:"",label:"å½“å‰ä»·æ ¼",type:"number",placeholder:"è¯·è¾“å…¥å½“å‰ä»·",suffix:"å…ƒ",clearable:""},null,8,["modelValue"]),l(I,null,{default:a(()=>t[20]||(t[20]=[L("è®¡ç®—ç»“æœ")])),_:1}),l(O,{title:"æ€»æŒä»“é‡",value:`${k.value.toFixed(2)} è‚¡`},null,8,["value"]),l(O,{title:"å¹³å‡æˆæœ¬ä»·","title-style":"red",value:`${_.value.toFixed(2)} å…ƒ`},null,8,["value"]),l(O,{title:"éœ€ä¸Šæ¶¨",value:`${z.value}%`,"value-class":q.value},null,8,["value","value-class"]),l(I),l(O,{title:E.value,"title-style":G.value,style:{"margin-bottom":"40px"}},null,8,["title","title-style"])]),_:1})])):M("",!0),g.value===2?(c(),p("div",ye,[l(b,{inset:"",class:"section"},{default:a(()=>[t[21]||(t[21]=v("div",{class:"section-title"},"DCPè®¡ç®—",-1)),l(n,{modelValue:s.quantity,"onUpdate:modelValue":t[11]||(t[11]=o=>s.quantity=o),modelModifiers:{number:!0},label:"ä¿¡ç”¨åˆ†æ•°é‡",type:"number",placeholder:"è¯·è¾“å…¥æ•°é‡",suffix:"è‚¡",clearable:"",onInput:S},null,8,["modelValue"]),l(n,{name:"stepper",label:"å¸‚åœºä»·"},{input:a(()=>[l(B,{modelValue:s.price,"onUpdate:modelValue":t[12]||(t[12]=o=>s.price=o),step:"0.01","decimal-length":2,label:"å¸‚åœºä»·",type:"number",placeholder:"è¯·è¾“å…¥ä»·æ ¼",suffix:"å…ƒ",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{modelValue:s.currentPrice,"onUpdate:modelValue":t[13]||(t[13]=o=>s.currentPrice=o),modelModifiers:{number:!0},label:"æ€»ä»·",type:"number",placeholder:"è¯·è¾“å…¥å½“å‰ä»·",suffix:"å…ƒ",clearable:"",onChange:S,onInput:S,onPlus:S,onMinus:S},null,8,["modelValue"])]),_:1}),l(h,{block:"",type:"primary",onClick:S,class:"add-btn"},{default:a(()=>t[22]||(t[22]=[L("è®¡ç®—")])),_:1})])):M("",!0)]),l(Q,null,{default:a(()=>[l(w,{icon:"chat-o",text:"å®¢æœ"}),l(w,{icon:"shop-o",text:"åº—é“º"}),l($,{onClick:D,color:"#1989faad",type:"warning",text:"é‡ç½®"}),l($,{onClick:H,color:"#1989fa",type:"danger",text:"ä¿å­˜"})]),_:1})])}}},ke=de(Ve,[["__scopeId","data-v-7efb80af"]]);export{ke as default};
